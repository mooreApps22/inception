docker compose --env-file ./.env -f ./srcs/docker-compose.yml down
docker compose --env-file ./.env -f ./srcs/docker-compose.yml up -d --build
#1 [internal] load local bake definitions
#1 reading from stdin 1.64kB done
#1 DONE 0.0s

#2 [nginx internal] load build definition from Dockerfile
#2 transferring dockerfile: 406B done
#2 DONE 0.0s

#3 [mariadb internal] load build definition from Dockerfile
#3 transferring dockerfile: 349B done
#3 DONE 0.0s

#4 [wordpress internal] load build definition from Dockerfile
#4 transferring dockerfile: 990B done
#4 DONE 0.0s

#5 [wordpress internal] load metadata for docker.io/library/alpine:3.20
#5 DONE 0.7s

#6 [wordpress internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.0s

#7 [nginx internal] load .dockerignore
#7 transferring context: 2B done
#7 DONE 0.0s

#8 [mariadb internal] load .dockerignore
#8 transferring context: 2B done
#8 DONE 0.0s

#9 [wordpress 1/7] FROM docker.io/library/alpine:3.20@sha256:765942a4039992336de8dd5db680586e1a206607dd06170ff0a37267a9e01958
#9 DONE 0.0s

#10 [nginx internal] load build context
#10 transferring context: 99B done
#10 DONE 0.0s

#11 [wordpress internal] load build context
#11 transferring context: 305B done
#11 DONE 0.0s

#12 [mariadb internal] load build context
#12 transferring context: 97B done
#12 DONE 0.0s

#13 [nginx 2/7] RUN apk add --no-cache nginx 	&& mkdir -p /run/nginx /var/www/ft
#13 CACHED

#14 [nginx 5/7] RUN	APK add openssl
#14 CACHED

#15 [nginx 3/7] COPY utils/nginx.conf /etc/nginx/nginx.conf
#15 CACHED

#16 [nginx 4/7] COPY utils/gen_ssl.sh /etc/nginx/gen_ssl.sh
#16 CACHED

#17 [nginx 6/7] RUN ["chmod", "+x", "/etc/nginx/gen_ssl.sh"]
#17 CACHED

#18 [nginx 7/7] RUN ["/etc/nginx/gen_ssl.sh"]
#18 CACHED

#19 [mariadb 5/7] COPY utils/entrypoint.sh /entrypoint.sh
#19 CACHED

#20 [mariadb 6/7] COPY utils/my.cnf /my.cnf
#20 CACHED

#21 [mariadb 2/7] RUN apk update && apk add --no-cache mariadb mariadb-client
#21 CACHED

#22 [mariadb 3/7] RUN mkdir -p /run/mysqld /var/lib/mysql
#22 CACHED

#23 [mariadb 4/7] RUN chown -R mysql:mysql /run/mysqld /var/lib/mysql
#23 CACHED

#24 [mariadb 7/7] RUN chmod +x /entrypoint.sh
#24 CACHED

#25 [wordpress 14/18] COPY uploads.php /var/www/html/uploads.php
#25 CACHED

#26 [wordpress  6/18] COPY index.php /var/www/html/index.php
#26 CACHED

#27 [wordpress  9/18] COPY about.php /var/www/html/about.php
#27 CACHED

#28 [wordpress  5/18] COPY www.conf /etc/php83/php-fpm.d/www.conf
#28 CACHED

#29 [wordpress 13/18] COPY database.php /var/www/html/database.php
#29 CACHED

#30 [wordpress 16/18] RUN mkdir -p /var/www/html/uploads
#30 CACHED

#31 [wordpress 17/18] RUN chown -R nginx:nginx /var/www/html/uploads
#31 CACHED

#32 [wordpress  3/18] RUN echo "display_errors = On" >> /etc/php83/php.ini
#32 CACHED

#33 [wordpress 10/18] COPY locations.php /var/www/html/locations.php
#33 CACHED

#34 [wordpress  8/18] COPY styles.css /var/www/html/styles.css
#34 CACHED

#35 [wordpress  4/18] RUN addgroup -S nginx && adduser -S -G nginx nginx
#35 CACHED

#36 [wordpress 15/18] RUN mkdir -p /var/www/html/
#36 CACHED

#37 [wordpress 12/18] COPY footer.html /var/www/html/footer.html
#37 CACHED

#38 [wordpress  2/18] RUN apk add --no-cache 	php83 	php83-fpm 	php83-mysqli 	php83-pdo 	php83-pdo_mysql 	php83-session 	php83-json 	php83-opcache 	php83-mbstring 	php83-xml 	php83-curl 	php83-gd 	php83-ctype
#38 CACHED

#39 [wordpress  7/18] COPY second.php /var/www/html/second.php
#39 CACHED

#40 [wordpress 11/18] COPY header.html /var/www/html/header.html
#40 CACHED

#41 [wordpress 18/18] RUN chmod 777 /var/www/html/uploads
#41 CACHED

#42 [nginx] exporting to image
#42 exporting layers done
#42 writing image sha256:838b89c307637033e9c2ac6f92707483a3f2d9caf39815ad125854815205993b done
#42 naming to docker.io/library/inception-nginx done
#42 DONE 0.0s

#43 [mariadb] exporting to image
#43 exporting layers done
#43 writing image sha256:40f1920ae6a93227a9118502ce948757d320199e1b47cdeabc183bdf7549354f done
#43 naming to docker.io/library/inception-mariadb done
#43 DONE 0.0s

#44 [wordpress] exporting to image
#44 exporting layers done
#44 writing image sha256:39f35f6185af3f04bcbf7ef253e55b2f370ef1c3cee16c7039ebbf2019057738 done
#44 naming to docker.io/library/inception-wordpress done
#44 DONE 0.0s

#45 [nginx] resolving provenance for metadata file
#45 DONE 0.0s

#46 [mariadb] resolving provenance for metadata file
#46 DONE 0.0s

#47 [wordpress] resolving provenance for metadata file
#47 DONE 0.0s







docker compose -f ./srcs/docker-compose.yml ps 
NAME        IMAGE                 COMMAND                  SERVICE     CREATED        STATUS                  PORTS
mariadb     inception-mariadb     "/entrypoint.sh"         mariadb     1 second ago   Up Less than a second   3306/tcp
nginx       inception-nginx       "nginx -g 'daemon of…"   nginx       1 second ago   Up Less than a second   0.0.0.0:443->443/tcp, [::]:443->443/tcp
wordpress   inception-wordpress   "php-fpm83 -F"           wordpress   1 second ago   Up Less than a second   9000/tcp
docker compose -f ./srcs/docker-compose.yml logs
wordpress  | [20-Dec-2025 04:17:42] NOTICE: fpm is running, pid 1
wordpress  | [20-Dec-2025 04:17:42] NOTICE: ready to handle connections
mariadb    | Starting MariaDB...
mariadb    | 2025-12-20  4:17:41 0 [Note] Starting MariaDB 10.11.14-MariaDB source revision 053f9bcb5b147bf00edb99e1310bae9125b7f125 server_uid T4GrNbWC9XWSit2rdiX2pIxGPjg= as process 1
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: Compressed tables use zlib 1.3.1
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: Number of transaction pools: 1
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: Using crc32 + pclmulqdq instructions
mariadb    | 2025-12-20  4:17:41 0 [Note] mysqld: O_TMPFILE is not supported on /var/tmp (disabling future attempts)
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: Using Linux native AIO
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: innodb_buffer_pool_size_max=128m, innodb_buffer_pool_size=128m
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: Completed initialization of buffer pool
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: File system buffers for log disabled (block size=512 bytes)
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: End of log at LSN=47076
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: 128 rollback segments are active.
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: Setting file './ibtmp1' size to 12.000MiB. Physically writing the file full; Please wait ...
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: File './ibtmp1' size is now 12.000MiB.
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: log sequence number 47076; transaction id 15
mariadb    | 2025-12-20  4:17:41 0 [Note] Plugin 'FEEDBACK' is disabled.
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: Loading buffer pool(s) from /var/lib/mysql/ib_buffer_pool
mariadb    | 2025-12-20  4:17:41 0 [Note] InnoDB: Buffer pool(s) load completed at 251220  4:17:41
mariadb    | 2025-12-20  4:17:41 0 [Note] mysqld: ready for connections.
mariadb    | Version: '10.11.14-MariaDB'  socket: '/run/mysqld/mysqld.sock'  port: 0  Alpine Linux
PWD:
/home/dell/inception
LS -L:
total 28
drwxr-xr-x 4 root root 4096 Dec 15 09:59 data
-rwxrwxr-x 1 dell dell  938 Dec 19 20:17 logger.sh
-rw-rw-r-- 1 dell dell 7184 Dec 19 20:17 log.txt
-rw-rw-r-- 1 dell dell  862 Dec 19 19:07 Makefile
drwxrwxr-x 2 dell dell 4096 Dec 19 16:52 secrets
drwxrwxr-x 3 dell dell 4096 Dec 19 19:54 srcs

.
├── data
│   ├── mariadb
│   │   ├── 6a4afe874297.pid
│   │   ├── aria_log.00000001
│   │   ├── aria_log_control
│   │   ├── ddl_recovery.log
│   │   ├── ib_buffer_pool
│   │   ├── ibdata1
│   │   ├── ib_logfile0
│   │   ├── ibtmp1
│   │   ├── multi-master.info
│   │   ├── mysql  [error opening dir]
│   │   ├── mysql_upgrade_info
│   │   ├── performance_schema  [error opening dir]
│   │   ├── sys  [error opening dir]
│   │   └── test  [error opening dir]
│   └── wordpress
│       ├── about.php
│       ├── database.php
│       ├── footer.html
│       ├── header.html
│       ├── index.php
│       ├── locations.php
│       ├── second.php
│       ├── styles.css
│       ├── _test.php
│       ├── uploads
│       │   ├── 6942decf07c9c7.32296909.png
│       │   └── 6942e1cec12b83.35680157.png
│       └── uploads.php
├── .env
├── .gitignore
├── logger.sh
├── log.txt
├── Makefile
├── secrets
│   └── db_password.txt
└── srcs
    ├── docker-compose.yml
    └── requirements
        ├── mariadb
        │   ├── Dockerfile
        │   └── utils
        │       ├── entrypoint.sh
        │       └── my.cnf
        ├── nginx
        │   ├── backups
        │   │   ├── animate.css
        │   │   ├── animate.html
        │   │   ├── gradients.css
        │   │   ├── index2.html
        │   │   ├── index.html
        │   │   ├── position.css
        │   │   ├── position.html
        │   │   ├── pseudo.css
        │   │   ├── pseudo.html
        │   │   ├── shadow.css
        │   │   ├── shadow.html
        │   │   ├── style.css
        │   │   ├── transform.css
        │   │   └── transform.html
        │   ├── Dockerfile
        │   ├── images
        │   │   ├── circle.png
        │   │   ├── portal.jpg
        │   │   ├── square.png
        │   │   └── triangle.png
        │   ├── static_web_files
        │   │   ├── index.html
        │   │   └── styles.css
        │   └── utils
        │       ├── gen_ssl.sh
        │       └── nginx.conf
        └── wordpress
            ├── about.php
            ├── database.php
            ├── Dockerfile
            ├── footer.html
            ├── header.html
            ├── index.php
            ├── locations.php
            ├── second.php
            ├── styles.css
            ├── uploads
            ├── uploads.php
            └── www.conf

20 directories, 66 files
-rw-rw-r-- 1 dell dell 361 Dec 19 20:06 .env
CATTING: .env
# Hostnames / TLS
SERVER_NAME=smoore.42.fr

# (optional) OpenSSL subject for self-signed certs
SSL_SUBJECT="/C=US/ST=California/L=Los Angeles/O=42 London/OU=Common Core/CN=smoore.42.fr/emailAddress=skyymoore@gmail.com"


# MariaDB
MARIADB_HOST=mariadb
MARIADB_DATABASE=wp_db
MARIADB_USER=wp_user
MARIADB_PASSWORD=wp_password
MARIADB_ROOT_PASSWORD=root_password
PWD:
/home/dell/inception/data
LS -L:
total 8
drwxr-xr-x 6 systemd-network systemd-journal 4096 Dec 19 20:17 mariadb
drwxr-xr-x 3 dell            dell            4096 Dec 19 20:12 wordpress

PWD:
/home/dell/inception/data/mariadb
LS -L:
total 123336
-rw-rw---- 1 systemd-network systemd-journal         2 Dec 19 20:17 6a4afe874297.pid
-rw-rw---- 1 systemd-network systemd-journal    417792 Dec 19 20:17 aria_log.00000001
-rw-rw---- 1 systemd-network systemd-journal        52 Dec 19 20:17 aria_log_control
-rw-rw---- 1 systemd-network systemd-journal         9 Dec 19 20:17 ddl_recovery.log
-rw-r----- 1 systemd-network systemd-journal       910 Dec 19 20:17 ib_buffer_pool
-rw-rw---- 1 systemd-network systemd-journal  12582912 Dec 15 10:08 ibdata1
-rw-rw---- 1 systemd-network systemd-journal 100663296 Dec 15 10:08 ib_logfile0
-rw-rw---- 1 systemd-network systemd-journal  12582912 Dec 19 20:17 ibtmp1
-rw-rw---- 1 systemd-network systemd-journal         0 Dec 15 10:06 multi-master.info
drwx------ 2 systemd-network systemd-journal      4096 Dec 15 09:59 mysql
-rw-r--r-- 1 systemd-network systemd-journal        16 Dec 15 09:59 mysql_upgrade_info
drwx------ 2 systemd-network systemd-journal      4096 Dec 15 09:59 performance_schema
drwx------ 2 systemd-network systemd-journal     12288 Dec 15 09:59 sys
drwx------ 2 systemd-network systemd-journal      4096 Dec 15 09:59 test

PWD:
/home/dell/inception/data/wordpress
LS -L:
total 44
-rw-r--r-- 1 dell dell  578 Dec 14 09:54 about.php
-rw-r--r-- 1 dell dell  741 Dec 19 20:12 database.php
-rw-r--r-- 1 dell dell  126 Dec 13 12:33 footer.html
-rw-r--r-- 1 dell dell  239 Dec 13 13:05 header.html
-rw-r--r-- 1 dell dell 1215 Dec 15 09:23 index.php
-rw-r--r-- 1 dell dell  602 Dec 19 20:11 locations.php
-rw-r--r-- 1 dell dell  759 Dec 13 13:01 second.php
-rw-r--r-- 1 dell dell 2122 Dec 15 09:13 styles.css
-rw-rw-r-- 1 dell dell   30 Dec 18 18:22 _test.php
drwxrwxrwx 2 dell dell 4096 Dec 17 09:01 uploads
-rw-r--r-- 1 dell dell 1859 Dec 15 08:47 uploads.php

PWD:
/home/dell/inception/srcs
LS -L:
total 8
-rw-rw-r-- 1 dell dell 1349 Dec 19 19:54 docker-compose.yml
drwxrwxr-x 5 dell dell 4096 Dec 18 20:08 requirements

CATTING: docker-compose.yml
#++++++++++++++++++++++++++++++++++++++++++++++++++++++
#	
#		INCEPTION DOCKER COMPOSE FILE	
#
#++++++++++++++++++++++++++++++++++++++++++++++++++++++

name: inception

services:
  nginx:
    container_name: nginx
    build:
      context: ./requirements/nginx
      args:
        SSL_SUBJECT: ${SSL_SUBJECT}
    environment:
      DEBUG: "true"
    env_file:
      - ../.env
    ports:
      - "443:443"
    depends_on:
      - wordpress
    restart: always
    networks:
      - inception
    volumes:
      - wordpress:/var/www/html:ro

  wordpress:
    build: ./requirements/wordpress
    container_name: wordpress 
    expose:
      - "9000"
    restart: always
    networks:
      - inception
    volumes:
      - wordpress:/var/www/html
    depends_on:
      - mariadb

  mariadb:
    build: ./requirements/mariadb
    container_name: mariadb 
    environment:
      DEBUG: "true"
    env_file:
      - ../.env
    expose:
      - "3306"
    restart: always
    networks:
      - inception
    volumes:
      - mariadb:/var/lib/mysql

networks:
  inception:
    driver: bridge

volumes:
  wordpress:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /home/dell/inception/data/wordpress

  mariadb:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /home/dell/inception/data/mariadb
PWD:
/home/dell/inception/srcs/requirements
LS -L:
total 12
drwxrwxr-x 3 dell dell 4096 Dec 19 20:03 mariadb
drwxrwxr-x 6 dell dell 4096 Dec 18 20:04 nginx
drwxrwxr-x 3 dell dell 4096 Dec 19 20:06 wordpress

FROM alpine:3.20

ARG SSL_SUBJECT
ENV SSL_SUBJECT=${SSL_SUBJECT}

RUN apk add --no-cache nginx \
	&& mkdir -p /run/nginx /var/www/ft


COPY utils/nginx.conf /etc/nginx/nginx.conf
COPY utils/gen_ssl.sh /etc/nginx/gen_ssl.sh

RUN	apk add openssl
RUN ["chmod", "+x", "/etc/nginx/gen_ssl.sh"]
RUN ["/etc/nginx/gen_ssl.sh"]

EXPOSE 443

CMD ["nginx", "-g", "daemon off;"]
PWD:
/home/dell/inception/srcs/requirements/nginx/utils
LS -L:
total 8
-rw-rw-r-- 1 dell dell 305 Nov 20 21:27 gen_ssl.sh
-rw-rw-r-- 1 dell dell 779 Dec 17 08:44 nginx.conf

CATTING: gen_ssl.sh
#!/bin/sh
set -e

mkdir -p /etc/nginx/ssl

openssl genrsa -out /etc/nginx/ft_private.key 2048

openssl rsa -in /etc/nginx/ft_private.key -pubout -out /etc/nginx/ft_public.key


openssl req \
	-new -x509 \
	-key /etc/nginx/ft_private.key \
	-out /etc/nginx/ft_cert.crt \
	-days 365 \
	-subj "$SSL_SUBJECT"
CATTING: nginx.conf
events {}

http {
	include 		/etc/nginx/mime.types;
	default_type	application/octet-stream;


	server {
		listen 			443 ssl;
		server_name		smoore.42.fr;

		ssl_certificate		ft_cert.crt;
		ssl_certificate_key	ft_private.key;

		ssl_protocols		TLSv1.2 TLSv1.3;

		# Disable Browser Caching
		add_header Cache-Control "no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0";
		add_header Pragma "no-cache";
		add_header Expires 0;

		root		/var/www/html/;
		index		index.php index.html;

		location / {
			try_files $uri $uri/ /index.php?$args;
		}

		location ~ \.php$ {
			include			fastcgi_params;
			fastcgi_pass	wordpress:9000;	
			fastcgi_index	index.php;
			fastcgi_param	SCRIPT_FILENAME $document_root$fastcgi_script_name;
			error_page		500 /500.html;
		}
	}
}
Note: my wordpress contaier is just a php-fpm container for the time being. I do not plan on adding the wordpress files until after I connect mariadb to my php documents and can interact with the database, through the php files.
PWD:
/home/dell/inception/srcs/requirements/wordpress
LS -L:
total 48
-rw-rw-r-- 1 dell dell  578 Dec 19 19:06 about.php
-rw-rw-r-- 1 dell dell  740 Dec 19 20:06 database.php
-rw-rw-r-- 1 dell dell  951 Dec 19 19:06 Dockerfile
-rw-rw-r-- 1 dell dell  126 Dec 13 12:33 footer.html
-rw-rw-r-- 1 dell dell  239 Dec 19 19:06 header.html
-rw-rw-r-- 1 dell dell 1215 Dec 19 19:06 index.php
-rw-rw-r-- 1 dell dell  874 Dec 19 20:05 locations.php
-rw-rw-r-- 1 dell dell  759 Dec 19 19:06 second.php
-rw-rw-r-- 1 dell dell 2122 Dec 15 09:13 styles.css
drwxrwxr-x 2 dell dell 4096 Dec 17 10:08 uploads
-rw-rw-r-- 1 dell dell 1859 Dec 15 08:47 uploads.php
-rw-rw-r-- 1 dell dell  217 Nov 21 13:33 www.conf

Note: only echoing the files I thing are relevent right now.
CATTING: Dockerfile
FROM alpine:3.20

RUN apk add --no-cache \
	php83 \
	php83-fpm \
	php83-mysqli \
	php83-pdo \
	php83-pdo_mysql \
	php83-session \
	php83-json \
	php83-opcache \
	php83-mbstring \
	php83-xml \
	php83-curl \
	php83-gd \
	php83-ctype 

RUN echo "display_errors = On" >> /etc/php83/php.ini

RUN addgroup -S nginx && adduser -S -G nginx nginx


COPY www.conf /etc/php83/php-fpm.d/www.conf

COPY index.php /var/www/html/index.php
COPY second.php /var/www/html/second.php
COPY styles.css /var/www/html/styles.css
COPY about.php /var/www/html/about.php
COPY locations.php /var/www/html/locations.php
COPY header.html /var/www/html/header.html
COPY footer.html /var/www/html/footer.html
COPY database.php /var/www/html/database.php
COPY uploads.php /var/www/html/uploads.php

EXPOSE 9000

RUN mkdir -p /var/www/html/
RUN mkdir -p /var/www/html/uploads
RUN chown -R nginx:nginx /var/www/html/uploads
RUN chmod 777 /var/www/html/uploads

CMD ["php-fpm83", "-F"]
CATTING: www.conf
[global]
error_log = /proc/self/fd/2

[www]
user = nginx 
group = nginx 

listen = 0.0.0.0:9000

pm = dynamic
pm.max_children = 5
pm.start_servers = 1
pm.min_spare_servers = 1
pm.max_spare_servers = 3

clear_env = no
CATTING: index.php
<!doctype html>

<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Inception</title>
	<link rel="stylesheet" href="styles.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>

<body>
	<div>
		<h1>INCEPTION</h1>
	</div>	
	<div>
		<p>Developed by Skyy Moore</p>
		<p>
		<strong>Inception</strong>, is a project from the <strong>42 London Core Curriculum</strong> designed to develop practical skills in bootstrapping a complete <strong>LEMP</strong> stack within a Docker Compose environment. The acronym <strong>LEMP</strong> refers to <strong>L</strong>inux, <strong>(E)</strong>NGINX, <strong>M</strong>ariaDB, and Word<strong>P</strong>ress. This project involves working with several core technologies including HTML, CSS, PHP, SQL, YAML, and Bash. It also serves as an introduction to building a simple backend architecture while reinforcing key concepts in containerisation and service orchestration.	
		</p>
	</div>	
	<div>
		<a href="/second.php">
			<button>ENTER</button>
		</a>
	</div>	

</body>

</html>
CATTING: locations.php
<?php
	include("header.html");
?>
<!doctype html>

<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Inception</title>
	<link rel="stylesheet" href="styles.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>

<body>
	<p> This is an <strong>locations</strong> page!!!</p>
	<p> This is an <strong>locations</strong> page!!!</p>
	<p> This is an <strong>locations</strong> page!!!</p>
	<p> This is an <strong>locations</strong> page!!!</p>
	<p> This is an <strong>locations</strong> page!!!</p>
	<p> This is an <strong>locations</strong> page!!!</p>
</body>
</html>
<?php
	foreach($_SERVER as $key => $value){
		 echo"<p> {$key} = {$value}</p>";
	}
	include("footer.html");
?>
CATTING: database.php
<?php
	/*
		MARIADB_DATABASE=wp_db
		MARIADB_USER=wp_user
		MARIADB_PASSWORD=wp_password
		MARIADB_ROOT_PASSWORD=root_password
	*/

	error_reporting(E_ALL);
	ini_set('display_errors', 1);
	mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);

	$db_server = getenv('MARIADB_HOST') ?: 'mariadb';
	$db_user =  getenv('MARIADB_USER') ?: 'wp_user';
	$db_pass =  getenv('MARIADB_PASSWORD') ?: 'wp_password';
	$db_name =  getenv('MARIADB_DATABASE') ?: 'wp_db';
//	$conn = '';

	try
	{
		$conn = mysqli_connect($db_server, $db_user, $db_pass, $db_name);
		echo "<p>You are connected to MariaDB!</p>";
	}
	catch(mysqli_sql_exception $e)
	{
		echo "<p>You are NOT connected to MariaDB!</p>";
		echo "<pre>" . $e->getMessage() . "</pre>";
	}
?>
PWD:
/home/dell/inception/srcs/requirements/mariadb
LS -L:
total 8
-rw-rw-r-- 1 dell dell  310 Dec 19 20:03 Dockerfile
drwxrwxr-x 2 dell dell 4096 Dec 19 20:03 utils

CATTING: Dockerfile
FROM alpine:3.20

RUN apk update && apk add --no-cache mariadb mariadb-client

RUN mkdir -p /run/mysqld /var/lib/mysql
RUN chown -R mysql:mysql /run/mysqld /var/lib/mysql

COPY utils/entrypoint.sh /entrypoint.sh
COPY utils/my.cnf /my.cnf
RUN chmod +x /entrypoint.sh

EXPOSE 3306

ENTRYPOINT ["/entrypoint.sh"]
CATTING: entrypoint.sh
#!/bin/sh
set -e

chown -R mysql:mysql /run/mysqld /var/lib/mysql

if [ ! -d "/var/lib/mysql/mysql" ]; then
	echo "Initializing MariaDB data directory..."
	mysql_install_db --user=mysql --datadir=/var/lib/mysql >/dev/null

	echo "Starting temp MariaDB server for init..."
	mysqld --user=mysql \
		--datadir=/var/lib/mysql \
		--skip-networking \
		--socket=/run/mysqld/mysqld.sock &

	pid="$!"

	echo "Waiting for MariaDB to start..."
	until mysqladmin --socket=/run/mysqld/mysqld.sock ping --silent; do
		sleep 1
	done

	echo "Configuring initial database and user..."
	mysql --socket=/run/mysqld/mysqld.sock -u root <<-EOSQL
		create database if not exists \`${MARIADB_DATABASE}\`;
		create user if not exists '${MARIADB_USER}'@'%' identified by '${MARIADB_PASSWORD}';
		grant all privileges on \`${MARIADB_DATABASE}\`.* to '${MARIADB_USER}'@'%';
		alter user 'root'@'localhost' identified by '${MARIADB_ROOT_PASSWORD}'; 
		flush privileges;
	EOSQL

	echo "Shutting down temporary MariaDB server..."
	mysqladmin --socket=/run/mysqld/mysqld.sock shutdown
	wait "$pid" 2>/dev/null || true
fi

echo "Starting MariaDB..."
exec mysqld --user=mysql --datadir=/var/lib/mysql --bind-address=0.0.0.0 --port=3306
CATTING: my.cnf
[mysqld]
bind-address=0.0.0.0
port=3306
skip-networking=0
socket=/run/mysqld/mysqld.sock
